<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>互動甜點地獄™️</title>
  <style>
    body {
      font-family: sans-serif;
      line-height: 1.6;
      padding: 2em;
      background: #fefefe;
      color: #333;
    }
    .highlight {
      background-color: yellow;
      font-weight: bold;
    }
    .page {
      display: none;
    }
    .page.active {
      display: block;
    }
    .pagination {
      margin-top: 2em;
      text-align: center;
    }
    .pagination button {
      margin: 0 0.25em;
      padding: 0.5em 1em;
      font-size: 1em;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <div id="story-container"></div>

  <div class="pagination" id="pagination-controls"></div>

  <script>
    // 39個詞彙
    const vocab = [
      "甜點", "地獄", "糖霜", "蛋糕", "巧克力", "奶油", "烘焙", "糖果", "餅乾", "冰淇淋",
      "蜜糖", "果醬", "布丁", "奶酪", "糖漿", "慕斯", "泡芙", "塔", "馬卡龍", "提拉米蘇",
      "舒芙蕾", "甜甜圈", "奶昔", "糖粉", "焦糖", "果凍", "雪糕", "奶茶", "可麗餅", "鬆餅",
      "蜜餞", "棉花糖", "糖葫蘆", "甜湯", "糖球", "糖心", "糖衣", "糖果屋", "糖果山"
    ];

    // 模擬的段落內容（請根據需要替換為實際內容）
    const paragraphs = [
      "這是一段關於甜點的故事，充滿了糖霜和巧克力的香氣。",
      "在這個地獄般的廚房裡，烘焙師傅正在製作奶油餅乾。",
      "冰淇淋和蜜糖混合在一起，創造出令人難以抗拒的甜點。",
      "果醬和布丁是這家店的招牌，吸引了無數顧客。",
      "奶酪塔和馬卡龍擺滿了展示櫃，色彩繽紛。",
      "提拉米蘇和舒芙蕾是甜點界的經典之作。",
      "甜甜圈和奶昔搭配起來，成為完美的下午茶組合。",
      "糖粉灑在焦糖果凍上，增加了層次感。",
      "雪糕和奶茶的組合，帶來前所未有的口感。",
      "可麗餅和鬆餅是早餐的最佳選擇。",
      "蜜餞和棉花糖讓人回味童年的味道。",
      "糖葫蘆和甜湯是冬季的熱門甜點。",
      "糖球和糖心巧克力是情人節的熱門禮物。",
      "糖衣包裹的糖果屋，像是童話中的夢境。",
      "糖果山上的各種甜點，令人目不暇給。"
    ];

    const storyContainer = document.getElementById('story-container');
    const paginationControls = document.getElementById('pagination-controls');
    const paragraphsPerPage = 3;
    const totalPages = Math.ceil(paragraphs.length / paragraphsPerPage);

    function highlightText(text, words) {
      const escapedWords = words.map(word => word.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'));
      const pattern = new RegExp('\\b(' + escapedWords.join('|') + ')\\b', 'gi');
      return text.replace(pattern, '<span class="highlight">$1</span>');
    }

    function renderPage(pageNumber) {
      storyContainer.innerHTML = '';
      const start = (pageNumber - 1) * paragraphsPerPage;
      const end = start + paragraphsPerPage;
      const pageParagraphs = paragraphs.slice(start, end);
      pageParagraphs.forEach(paragraph => {
        const p = document.createElement('p');
        p.innerHTML = highlightText(paragraph, vocab);
        storyContainer.appendChild(p);
      });
    }

    function renderPaginationControls() {
      paginationControls.innerHTML = '';
      for (let i = 1; i <= totalPages; i++) {
        const button = document.createElement('button');
        button.textContent = i;
        button.addEventListener('click', () => {
          renderPage(i);
        });
        paginationControls.appendChild(button);
      }
    }

    // 初始化
    renderPaginationControls();
    renderPage(1);
  </script>

</body>
</html>

